---
import MainLayout from "./MainLayout.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("blog")).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
const tags = [...new Set(posts.flatMap((post) => post.data.tags))];
---

<MainLayout>
	<div class="w-full">
		<div class="pb-2">
			<h2 class="font-sans font-bold text-3xl md:text-6xl gap-10 text-white">
				Search By Tags
			</h2>
			<p
				class="font-bold sm:text-xs text-md uppercase bg-gradient-to-b from-teal-300 to-teal-500 inline-block text-transparent bg-clip-text whitespace-nowrap w-full"
			>
				Makes life much easier
			</p>
			<hr class="border-amber-500 pb-2" />
		</div>
		<section class="pb-5">
			<!-- <span class="bg-slate-400 p-1 px-3 rounded-xl"></span> -->
			<ul class="flex flex-row flex-wrap gap-3">
				{
					tags.sort().map((tag) => (
						<li class="text-white bg-slate-400 p-1 px-3 rounded-xl">
							<a href={`/blog/tags/${tag}`}>#{tag}</a>
						</li>
					))
				}
			</ul>
		</section>
		<hr class="w-full border-2 border-dashed border-amber-500" />
		<slot />
	</div>
</MainLayout>
