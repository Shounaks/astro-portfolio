---
import "../../styles/global.css"
import { getCollection, type CollectionEntry } from "astro:content";
import BlogPost from "../../layouts/BlogPost.astro";
import MainLayout from "../../layouts/MainLayout.astro";

export async function getStaticPaths() {
	return (await getCollection("blog"))
    .filter(item => !item.data.draft && !item.data.hidden)
    .sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf())
    .sort((a, b) => a.data.title.localeCompare(b.data.title))
	.map((post) => ({
		params: { slug: post.slug },
		props: post,
	}));
}
type Props = CollectionEntry<"blog">;

const post = Astro.props;
const { Content } = await post.render();
---

<MainLayout {...post.data}>
	<div class="text-white w-full h-full px-6"><Content /></div>
</MainLayout>
