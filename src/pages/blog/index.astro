---
import { Image } from "astro:assets";
import BaseHead from "../../components/BaseHead.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../../consts";
import FormattedDate from "../../components/FormattedDate.astro";
import MainLayout from "../../layouts/MainLayout.astro";
import { posts } from "../../collection";

import aqua from "../project/aqua.png";
import water from "../project/water.jpg";

import avatar from "../project/avatar.png";
import mage from "../project/mage.jpg";

import black from "../project/black.png";
import blackwp from "../project/black_wp.jpg";

import archer from "../project/archer2.png";
import archerwp from "../project/archerbg.jpg";

import { ViewTransitions } from "astro:transitions";
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={"Blog | " + SITE_TITLE} description={SITE_DESCRIPTION} />
		<ViewTransitions />
	</head>

	<MainLayout>
		<div class="min-w-full" style="">
			<div class="flex flex-row justify-between w-full min-w-full pb-2">
				<div>
					<h2
						class="font-sans font-bold text-3xl md:text-6xl gap-10 text-white"
					>
						Blog Posts
					</h2>
					<p
						class="font-bold sm:text-xs text-md uppercase bg-gradient-to-b from-teal-300 to-teal-500 inline-block text-transparent bg-clip-text whitespace-nowrap w-full"
					>
						A Repository of Obscure Knowledge
					</p>
				</div>
				<a transition:name="tags" href="/blog/tags/" class="font-bold text-center align-middle min-h-full snap-center self-center mr-24 uppercase bg-gradient-to-r from-blue-400 via-purple-600 to-yellow-400 p-4  border-2 group border-black hover:border-white transition-all ease-in-out duration-200">
					<span class="font-bold text-md uppercase inline-block whitespace-nowrap w-full text-black group-hover:text-white group-focus:text-white transition-[color] ease-in-out duration-200">Deep Dive</span>
				</a>
			</div>
			<hr class="border-yellow-500" />
			<div class="grid grid-cols-4 grid-rows-1 gap-x-10 p-2 mx-20">
				<a href="./java" transition:name="water" class="hover:z-10">
					<div id="" class="card group">
						<Image src={aqua} alt="" class="front-image" />
						<Image src={water} alt="" class="bg-image" />
						<div
							class="logo w-full h-1/2 group-hover:h-[10%] min-w-full text-center sm:text-sm md:text-5xl lg:text-7xl transition-transform duration-200 ease-in-out group-hover:text-sky-600"
						>
							JAVA
						</div>
					</div>
				</a>
				<a href="./system-design" transition:name="fire">
					<div id="" class="card group">
						<Image src={avatar} alt="" class="front-image" />
						<Image src={mage} alt="" class="bg-image" />
						<div
							class="logo w-full h-1/2 group-hover:h-[20%] min-w-full text-center sm:text-sm md:text-5xl lg:text-7xl transition-transform duration-200 ease-in-out group-hover:text-[#e9d8cb]"
						>
							Design
						</div>
					</div>
				</a>
				<a href="./leet-code" transition:name="electricity">
					<div id="" class="card group">
						<Image src={archer} alt="" class="front-image" />
						<Image src={archerwp} alt="" class="bg-image" />
						<div
							class="logo w-full h-1/2 group-hover:h-[10%] min-w-full text-center sm:text-sm md:text-5xl lg:text-7xl transition-transform duration-200 ease-in-out group-hover:text-yellow-500"
						>
							Leet Code
						</div>
					</div>
				</a>
				<a href="./algorithms" transition:name="shadow">
					<div id="" class="card group">
						<Image src={black} alt="" class="front-image" />
						<Image src={blackwp} alt="" class="bg-image" />
						<div
							class="logo w-full h-1/2 group-hover:h-[10%] min-w-full text-center sm:text-sm md:text-5xl lg:text-7xl transition-transform duration-200 ease-in-out"
						>
							Algorithms
						</div>
					</div>
				</a>
			</div>
		</div>
	</MainLayout>

	<style is:inline>
		a,
		a:hover {
			color: #fff;
		}

		:root {
			--timing: 400ms;
			--rotation: 20deg;
		}

		img {
			max-width: 100%;
		}

		.card {
			/* width: 200px; */
			aspect-ratio: 9 / 16;
			position: relative;
			transform-style: preserve-3d;
			transition: rotate var(--timing) ease;
			background: no-repeat;
		}

		.card:hover {
			rotate: x var(--rotation);
		}

		.card::before {
			content: "";
			position: absolute;
			inset: 0;
			z-index: 100;
			background-image: radial-gradient(circle, transparent 150px, black);
			opacity: 0;
			transition: opacity var(--timing);
		}

		.card:hover::before {
			opacity: 1;
		}

		.card::after {
			content: "";
			position: absolute;
			inset: 80% 0.5rem 0.5rem;
			translate: 0;
			transform: translateZ(-100px);
			background: black;
			filter: blur(1rem);
			z-index: 1;
			transition:
				rotate var(--timing),
				translate var(--timing);
		}

		.card:hover::after {
			rotate: x calc(var(--rotation) * -1);
			translate: 0 60px;
		}

		.bg-image {
			position: absolute;
			z-index: 10;
			height: 100%;
			object-fit: cover;
			object-position: -250px center;
		}

		.logo,
		.front-image {
			position: absolute;
		}

		.logo {
			z-index: 1000;
			/* filter: invert(1); */
			width: 65%;
			margin-inline: auto;
			inset: auto 0 2rem;
			bottom: 1vh;
			transform: translateY(0rem) translateZ(20px);
			transition: var(--timing);
		}

		.card:hover .logo {
			transform: translateY(-2rem) translateZ(20px);
			rotate: x calc(var(--rotation) * -1);
		}

		.front-image {
			bottom: 10vh;
			scale: 1.25;
			transform-origin: bottom;
			opacity: 0;
			z-index: 100;
			transition: var(--timing);
		}

		.card:hover .front-image {
			opacity: 1;
			transform: translateY(-2rem) translateZ(-10px);
			rotate: x calc(var(--rotation) * -1);
		}
	</style>
</html>
